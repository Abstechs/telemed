import{a as d}from"./app-BBxhuRp7.js";import"https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";import"https://www.gstatic.com/firebasejs/11.10.0/firebase-analytics.js";import"https://www.gstatic.com/firebasejs/11.10.0/firebase-auth.js";import"https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore.js";const c=document.getElementById("loginForm"),n=document.getElementById("loginBtn"),s=document.getElementById("loginText");function i(e,o=!0){Toastify({text:e,duration:3e3,gravity:"top",position:"right",backgroundColor:o?"#16a34a":"#dc2626"}).showToast()}async function r(e){e?(s.innerHTML='<span class="loader"></span> Signing in...',n.disabled=!0,n.classList.add("opacity-70")):(s.innerHTML='<i class="fa-solid fa-right-to-bracket"></i> Login',n.disabled=!1,n.classList.remove("opacity-70"))}c.addEventListener("submit",async e=>{e.preventDefault();const o=document.getElementById("email").value.trim(),a=document.getElementById("password").value.trim();if(!o||!a){i("Please fill all fields",!1);return}await r(!0);try{await d(o,a),i("Login successful! Redirecting...",!0),setTimeout(()=>window.location.href="/patient.html",700)}catch(t){console.error(t);const l=t&&t.code?t.code==="auth/wrong-password"?"Incorrect password.":t.code==="auth/user-not-found"?"User not found.":t.message:"Signin failed.";i(l,!1)}finally{await r(!1)}});
